<script>
  let imageAsync = (url) => {
    return new Promise((resolve, reject) => {
      let img = new Image()
      img.src = url
      img.onload = () => {
        console.log('图片请求成功')
        resolve(img)
      }
      img.onerror = (err) => {
        console.log('图片请求失败')
        reject(err)
      }
    })
  }
  imageAsync('url')
    .then(() => {
      console.log('加载成功')
    })
    .catch((error) => {
      console.log('加载失败')
    })
</script>
